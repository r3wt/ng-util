/**
 * @package ng-utils
 * @author Garrett Morris <gmorris_89@outlook.com>
 * @license MIT
 * @version 1.0.0
 */
angular.module("ng-utils",[]).factory("$utils",["$q",function(n){function e(){}var t={async:function(n,e,t){function r(n,r){function i(e,r){e&&(c[n]=e),r&&(u[n]=r),o[n]=1,o.indexOf(0)==-1&&(""==c.toString().replace(/,/g,"")?c=null:c.join("\r\n----------\r\n"),t(c,u))}e(r,i)}var i=n.length,l=0,o=new Array(i).fill(0),u=new Array(i).fill(null),c=new Array(i).fill(null);for(l;l<i;l++)r(l,n[l])},sync:function(n,e,t){function r(o,u){return null!=o&&l.push(o),void 0!=u&&i.push(u),0==n.length?(""==l.toString().replace(/,/g,"")?l=null:l.join("\r\n----------\r\n"),t(l,i)):void e(n.shift(),r)}var i=[],l=[];e(n.shift(),r)},loadOne:function(n,e,t,r){t||(t=function(){}),r||(r=function(){});var i=["script","link"];if(i.indexOf(n)==-1)throw new Error("only scripts and links supported");var l=e.replace(/\W+/g,"");if($("#"+l).length)t();else{var o=document.createElement(n);"link"==n?(o.rel="stylesheet",o.href=e,o.id=l,document.head.appendChild(o),t()):"script"==n&&(o.id=l,o.src=e,o.addEventListener("load",function(){t()},!1),o.addEventListener("error",function(){r(arguments)},!1),document.body.appendChild(o))}},load:function(){if(arguments.length>1)var e=arguments;else var e=arguments[0];var t=this;return n(function(n,r){return 0==e.length?n():void t.async(e,function(n,e){n.indexOf(".js")!=-1?t.loadOne("script",n,e,function(n){e(n)}):n.indexOf(".css")!=-1?t.loadOne("link",n,e):e()},function(e,t){e?r(e):n()})})}};return e.prototype=t,new e}]);